<div class="kt-portlet no-margin"
   [ngClass]="{ 'kt-portlet--body-progress kt-portlet--body-progress-overlay' : loading }">
   <div class="kt-portlet__head kt-portlet__head__custom">
      <div class="kt-portlet__head-label">
         <!-- <button mat-icon-button matTooltip="Voltar" [routerLink]="/vendas">
            <i class="fa fa-arrow-left"></i>
         </button> -->
         <h3 class="kt-portlet__head-title">
            <span *ngIf="permissions.id > 0">Lista de Permissões: </span>
            <span *ngIf="!permissions.id">Nova Permissão</span> <span *ngIf="permissions.id > 0"> {{user.nivel}}</span>
         </h3>
      </div>

   </div>
   <div class="kt-form kt-portlet__body">

      <div class="kt-portlet__body-progress">
         <mat-spinner [diameter]="40"></mat-spinner>
      </div>

      <div class="row" *ngIf="!permissions.id">
         <div class="col-sm-6 form-group">
            <span>Descrição:</span>
            <input type="text" class="form-control" [(ngModel)]="permissions.descricao">
         </div>
      </div>

      <div class="row">
         <div class="col-sm-4 form-group">
            <fieldset>
               <legend>
                  <mat-checkbox [(ngModel)]="permissions.users">Usuários</mat-checkbox>
               </legend>
               <div class="col-sm">
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.create_user">Criar Usuário</mat-checkbox>
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.edit_user">Editar Usuário</mat-checkbox>
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.delete_user">
                     Deletar Usuário
                  </mat-checkbox>
               </div>
            </fieldset>
         </div>

         <div class="col-sm-4 form-group">
            <fieldset>
               <legend>
                  <mat-checkbox [(ngModel)]="permissions.clients">Clientes</mat-checkbox>
               </legend>
               <div class="col-sm">
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.create_client">
                     Criar Cliente
                  </mat-checkbox>
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.edit_client">
                     Editar Cliente
                  </mat-checkbox>
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.delete_client">
                     Deletar Cliente
                  </mat-checkbox>
               </div>
            </fieldset>
         </div>

         <div class="col-sm-4 form-group">
            <fieldset>
               <legend>
                  <mat-checkbox [(ngModel)]="permissions.products">Produtos</mat-checkbox>
               </legend>
               <div class="col-sm">
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.create_product">
                     Criar Produto
                  </mat-checkbox>
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.edit_product">
                     Editar Produto
                  </mat-checkbox>
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.delete_product">
                     Deletar Produto
                  </mat-checkbox>
               </div>
            </fieldset>
         </div>

         <div class="col-sm-4 form-group">
            <fieldset>
               <legend>
                  <mat-checkbox [(ngModel)]="permissions.vendas">Vendas</mat-checkbox>
               </legend>
               <div class="col-sm">
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.create_venda">
                     Criar Venda
                  </mat-checkbox>
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.edit_venda">
                     Editar Venda
                  </mat-checkbox>
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.delete_venda">
                     Deletar Venda
                  </mat-checkbox>
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.cancel_venda">
                     Cancelar Venda
                  </mat-checkbox>
                  <mat-checkbox class="margin-right" [(ngModel)]="permissions.finalizar_venda">
                     Finalizar Venda
                  </mat-checkbox>
               </div>
            </fieldset>
         </div>
      </div>


   </div>

   <div class="kt-portlet__footer" align="right">
      <button class="btn btn-sm btn-default" [disabled]="loading" (click)="close()">Voltar</button>
      <button class="btn btn-sm btn-success" [disabled]="loading" (click)="submit()"
         [ngClass]="{'kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light': loading }">
         {{(permissions.id > 0) ? 'Atualizar' : 'Cadastrar'}}
      </button>
   </div>
</div>